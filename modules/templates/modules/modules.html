{% extends "mrsregister/base.html" %}
{% block content %}

<style>
/* Card styling */

  .module-card {
  width: 100% !important;
  margin: 0 1rem 1rem 0;
  border: 1px solid #ccc;
  padding: 1rem;
  background-color: #fff;
  box-shadow: 0 2px 5px #ccc;
}


  .module-card .btn {
  background-color: #007bff;
  color: #fff;
  padding: 0.5rem 1rem;
  border: none;
  cursor: pointer;
}

  .module-card h5 {
    font-size: 1.2rem;
    margin-bottom: 0.5rem;
    font-weight: bold;
  }

</style>

<!--Search bar-->
<div class="row height d-flex justify-content-center align-items-center">
  <div class="col-md-8">
    <br>
    <form class="search" method="get" width="18rem;">
      <i class="fa fa-search"></i>
      <input type="text" class="form-control" placeholder="Search for a module here..." value="{{search_query}}" name="search_query">
      <p></p>
      <button class="btn btn-primary">Search</button>
      <p></p>
    </form>
  </div>
</div>
<!--Module cards-->
<div class="container mx-auto mt-4">
  <div class="row">
    <div class="col-md-4">
      {% for module in modules %}
      <div class="module-card" style="width: 18rem;">
  <img src="https://www.earlham.ac.uk/sites/default/files/images/articles/Five%20reasons%20why%20computing/5%20Reasons%20Computing%20-%20Hero.jpg" class="card-img-top" alt="...">
  <div class="card-body">
    <h5 class="card-title">{% for per in module.courses.all %} {{ per }} {% endfor %}</h5>
        <h6 class="card-subtitle mb-2 text-muted">Module Code: {{ module.code }}, Module Name: {{ module.name }}</h6>
    <p class="card-text">{{ module.description }}</p>
       <a href="{% url 'registrations' module.id %}" class="btn mr-2"><i class="fas fa-link"></i> Register</a>
    <a href="{% url 'unregister' module.id %}" class="btn "><i class="fab fa-github"></i> Unregister</a>
    <hr>
    <h5>Registrations</h5>
    {% for registration in module.registration_set.all %}
    <img src="{{registration.student.profile.image.url}}" width="75" />
    {{registration.student.username}}
    <p></p> <!-- <p> tag to enable some padding between user images who've registered-->
    {% endfor %}
  </div>
  </div>
  <p></p> <!-- <p> tag to enable some padding between cards-->
    {% endfor %}

{% endblock content %}
      
    